

<main>
  <!-- Loading State -->
  <ng-container *ngIf="isUserLoading$ | async; else userContent">
    <p>Checking user...</p>
  </ng-container>

  <!-- User Content or Not Found -->
  <ng-template #userContent>
    <ng-container *ngIf="user$ | async as user; else noUser">
      <mat-card class="w-full" appearance="outlined">
        <mat-card-header>
          <img mat-card-avatar class="card-header" src="/assets/images/user-avatar.png" alt="user-avatar" />
          <mat-card-title>{{ user.name }}</mat-card-title>
          <mat-card-subtitle>{{ user.username }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <div class="flex flex-col space-y-2">
            <div class="flex">
              <p class="font-bold w-1/3">Name</p>
              <p class="w-2/3">: {{ user.name }}</p>
            </div>
            <div class="flex">
              <p class="font-bold w-1/3">Username</p>
              <p class="w-2/3">: {{ user.username }}</p>
            </div>
            <div class="flex">
              <p class="font-bold w-1/3">Email</p>
              <p class="w-2/3">: {{ user.email }}</p>
            </div>
            <div class="flex">
              <p class="font-bold w-1/3">Address</p>
              <p class="w-2/3">
                : {{ [user.address.suite, user.address.street, user.address.city, user.address.zipcode].join(", ") }}
                <a mat-icon-button class="small-icon-button" [attr.href]="'https://www.google.com/maps/search/' + user.address.geo.lat + ',' + user.address.geo.lng"
                  target="_blank" rel="noopener noreferrer">
                  <mat-icon>open_in_new</mat-icon>
                </a>
              </p>
            </div>
            <div class="flex">
              <p class="font-bold w-1/3">Phone</p>
              <p class="w-2/3">: {{ user.phone }}</p>
            </div>
            <div class="flex">
              <p class="font-bold w-1/3">Website</p>
              <p class="w-2/3">: {{ user.website }}</p>
            </div>
            <div class="flex">
              <p class="font-bold w-1/3">Company</p>
              <p class="w-2/3">: {{ user.company.name }}</p>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </ng-container>
    <ng-template #noUser>
      <p>User not found.</p>
    </ng-template>
  </ng-template>
</main>